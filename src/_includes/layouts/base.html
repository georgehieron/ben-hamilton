{% set assetHash = global.random() %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    {% include "partials/meta-info.html" %}
    <style>{% include "css/critical.css" %}</style>

    {# Add facility for pages to delare an array of critical styles #}
    {% if pageCriticalStyles %}
        {% for item in pageCriticalStyles %}
        <style>{% include item %}</style>
        {% endfor %}
    {% endif %}

    <link rel="stylesheet" media="print" href="/fonts/fonts.css?{{ assetHash }}" onload="this.media='all'" />

    {# Add facility for pages to declare an array of stylesheet paths #}
    {% if pageStylesheets %}
        {% for item in pageStylesheets %}
        <link rel="stylesheet" media="print" href="{{ item }}?{{ assetHash }}" onload="this.media='all'" />
        {% endfor %}
    {% endif %}

    <script type="module" src="/js/theme-toggle.js" async defer></script>
    {# Netlify Identity Widget #}
    <script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
</head>

<body>
    <div class="site-wrap">
        {% include "partials/site-head.html" %}

        <main>
        <article>
            <h1>Dark mode should be a user preference—not presumed</h1>
            <p>
            Yes, by default, when a user has <code>@media (prefers-color-scheme: dark)</code> set, we should set a dark theme, but we should also provide a
            switch for if the dark them isn’t working out for them.
            </p>
            <p>This also benefits users that don’t have <code>@media (prefers-color-scheme: dark)</code> set because they get a toggle to choose, too.</p>
        </article>
        <div class="user-toggle">
            <div role="status" class="[ visually-hidden ][ js-mode-status ]"></div>
            {% include "partials/bh-hanger-animated-button.html" %}
        </div>
        </main>

        <main tabindex="-1" id="main-content">
            {% block content %}{% endblock %}
        </main>

        <footer role="contentinfo" class="site-foot">
            <div class="wrapper">
            </div>
        </footer>
    </div>
    {# Netlify Identity Widget redirect #}
    <script>
    if (window.netlifyIdentity) {
        window.netlifyIdentity.on("init", user => {
        if (!user) {
            window.netlifyIdentity.on("login", () => {
            document.location.href = "/admin/";
            });
        }
        });
    }
    </script>
</body>

</html>